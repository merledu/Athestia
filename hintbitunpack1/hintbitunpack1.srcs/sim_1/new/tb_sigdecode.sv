import Dilithium_pkg::*;

module tb;
    logic clk;
    logic rst;
    logic [(((lambda/4)+(l*32*(1+$clog2(gamma1-1)))+omega+k)*8)-1:0] sigma1;

    sigdecode dut (
        .clk(clk),
        .rst(rst),
        .sigma(sigma1)
    );

    // Clock generation
    always #2 clk = ~clk;

    initial begin
        // Initialize
        clk = 0;
        rst = 1;
        #5 rst = 0;

        // Apply test vector
        sigma1 = 'h3228241e16130f0900000000000000000000000000000000000000000000000000b3534f4e3d392f221700aea18455f2eecbb3a06af4d38a755a5643029f8e1aee90502fd3ac625d190efff4e28983826458021284399e2bc2c318cdeeaa5df0516a6f69ab55deb8699897ae5a879f7e6a53bc60e80653ff4139f26137a9ccfcaaf06f40f433b490379c660baf956e3f463b8bf58c8f434b4dcbfb9ceb22d94d240a0bc75faf64be72bb7aaccb6730bb12d3a8b9b78ef3a14e478233c3bd9a1de08e8eafc3e6098929fd7a1aa6bd8d8893eb370fcb4e5b845cbcf90d4bf763f0eef2a0f942ef3b5b2bf042c3cd27362c3cec69c3d5705a5258fe3b05f53a6be0414bc1bc351dc05230ee911faa35fa8fbdf9eecc73dd7ece0fcb94d562d52c081fef39b076abcc41dbff762166ec387f4507d3670d65c30a795fb6abadfffc72a5f73cdce52343de3cbdea63ac7580b3bbd9f6f2633fca8c1cc741fa55f970903a9b855801436b7c86b02136ca829fd1297c6af0d416d31d922a66821739ec878e4401a48faf334519e9bcf37c424de3b791f2971758cfd2f19cf659d321083ecb10080cf2154e7208cf03612c5a418955ac7c0adf8ad358b3fbd0b55735f377b6d3892fad07171940ed95707ad10e1e580fbaff3a8699e8fa33a90142da677065a17a7e1c33d11fea5aee45f6b5a45e63041966ee5166b7fc73b0b678c41b48cb500d57fcd9ba298463c90c7ee506e113c1ec8e9789133654ae9dcbbbc272e70ed991dfad0e09611fa1fbc6dd7d6f52ed7fad3d22f07a1fceb88ac3785b61193eee67c5de1bf6a0ee941670f7212af44974bb3a43f5be887a7a3c134065bf6e5abaf9ee7fac54b4f0f5074f994804d69f5d34b24e58f91f3613e5e32dc9788753b9786f4bb440adc551956df27c1c97b33efb76d414593f56707d18733c8a37256396bfee4353618585bc33948cbdb360c74f41e8006f3133aab4c4302ebb3aa11a3183c1b82a1854127ed30d317961f13fe03adac15649be4bfe984d2b5255063621c67f8fe2b23930d6e87dac7839524cd4948c1cd2d298b98b5bdd13ca14f42e8c3950dff37d18b9a46773097361335729c1026910e8a9a2f8dbf8c3c3efff9f8db3b9ef6943cad3e257a76c4f5cf0cd3163e625771bd529496e6145eb9d165cd830dafdb1534ae756c2d947269c07aa74f271a7ab335b5de8cfd6866e167a0373073f2dc254f62d0f975e77871ff9219982de0eac72221b4fe4d7ab866c70168b99b14ef74511848b9a0cdaebf28975c1792b2ca782aa21c680e50ba185918e490264e5d2cc1b768ce6cec35637bd5c007e59fbb8fc694729ce7d7d41d6a29dd733ae8a0248e2722f5266b63d91b6fc811701a83a1686ec7eac2016d2e50ad7bd7620e14ea1633d22d2272a5653ab81a35b6b92c4d62f07b740986aecfca89a2b2767e23e93beb0c9c4797628d140ece39d8c82f496d5330819bf12cd490672b86981f6b66b305aeebee83a65867c0910bb18bbda96e11fd14f5ddb339fdeca3efde2e665934c523bc4bd94976985907a3ba80278eccbc34adfd84656432513a67a8e5f9238788eba54c169a3d494c621632a9ce48b46a22984d718c061018b7f2f81c31a6d0905abaf78345e24367fa454479d4cd2e9011511493ca19230dd99754500fa5ab98373ce45874c6aa8b1968c55438a60375c391294fea95081683431460aec702b6cbf3552e264cb91e934c0eadedc9eea6dc317f734f277e1deeda5cb0691b81bd4f613eb35cdc1ecb83b7347f42f02f1d8cdc0906e1224b61c9d7fd575bc4478848088374f010eaf528895aedb9e5ace665ab92e3af02f25a0fbdb220dd5d32f3fb9ed5407413bba7fb5589bc4d722d54d4b9503f98303516762e0223305ae1bb6ddfe8daa066ab07b34bb65a47dbac7d40ea33da3efee93cad14bac115911254e96fcfefedf51d75a8cc7de3ed0620e929af8592aeec155dc49fcfffb1419de6526e8d804c0a6d28de09161668c8343ea153c33864ee9655a13c44af84fc80ae99d661c6dbeac1994b528c7506c7c65b00d19642bffd1cf2b1d4723afe57732e855004f14d984e84f138d0b3cf5b6e36eaca077cd2da886a67f45cf5064434ea19a7e22cba45fa04b2367309c6b4324f325feb8ba1d53289701737aa03652d8a7bdd33fea6ef4b9cc5c6ab4a74e18e0f07f35f517eb5c05b4e80ca258b9920a560e7bc22a6cdbc976634814bf58a6d053d6e740e69799cbe4874d28b248aea59d4dc60041ff4d6c2a94418c3bb4665ee649dbe266f6fa3c25493bd8d3f933428eb18a24eaec261afb3c3305a0246f164d0884df89135959d34613bdb648313895089cd7102f9af1d3c1d8db78c4ec47201c8aa083bf0b477be6f8247c5fcf7686b12a764e37facbe4976e65d1aedaba4deb2c7c264ad6ffc1d2319c18aa137ad4bfc993fffdbe2daa318777390b8ec42761efc9bbef174587028060d8d80106bb93ec7ed728c3229b4570f40841209275c951c001c18468742c1297b222f65b0a5dcc86750d06670a833af56b2381e9b741ba31dcdc03892752d36f42693343d18a5d0f9a3cd09430abfde2b2f437fe4cb06f6b937169a32062161da746e3eb21f0f93e69bd09cd0ee4b25c5abbd72508549f49c3cda9e5d16e363b37f1a9026956f98f0653aab8e565645c3dd36520e7a5ee304cd672b068593d51e4d35616e0c91ba4ec48db5d535f7a559e0fdcb72dbd3221fe2710bc3eb8efea486c197af46503ca565f987bc5ef061f7fe9f2511f26ee1bee296a304c785aeb6dc31b0a1f431324ed162747e35c566630777539f18ad4709ea411624207d79e2d148b9d7a2412343e7695823472537bef8de113c63123188ed4a42461d8661ca140bde06776de2271500923a8a8e44c18d9e18cf41a37b73dd29bdc2885a1379c4eeaa10749830790d96ef4421a32ed07a134d1de9e2c83349bdc23edb2bdc2921f673ee84a925c912dd7b442000583409755e843fc9fc4f78e86ea1f5be575fdde593641e1d3290d85389cfc08b9e40a875b0db1804e4cb0d979f0787d814d1ada27e2c9f62cd503a206f4702a7e87e1b410668fb3d845c2d553e0e46e7b53252286adceec60c4690c01d04c0f45bcee158b5f0f85404eeba026d496b3d0a4ad0e6489a66bf11e5f174aad565ce23f73445d30e700269a5bfc8c2ad6e1dedbecac7fd8c43d263ca73c9089116a40d059251f63d84915ce8705c76d111df671f65db110c86bf1ede11bc33e83d0a689352b8a2a14c178ef79e29296cfa046815c1f620c2fe92244cf54b423734fe97dd0b3e80681db42f04fcd7499003d4de895c12b99d6b51e1ac5fd82c930a1f951585b867f956b4fdd22f44c908db93e50e3d08b935a561921aeb38c3e10cf6466ee6407eca92165fb0be92f77141521ddc45655fc55d39f2e24555b8c13c946ffe8f4c434ffe20b76ebda1c0290e25631cda26e8e4fff6c4b8557465e004923124c62e67c3ef5c820428c3d20c6132e28a080967352ddf3f782247514ee3e08f17a51932a26ec3b08329f66c10f1292f75960005e6986d1fff8913031063fc3a812052a222c93c423b7f4ea925d1f8fbc4de0755fbd3716f2a08503bc7a9b029d9b32f3d9645888c464f5f22b9ac9ef5a9f81a26d9182cc4adae2a9bfcfc1710977d7e3a317015b0ccc0572cb259356635ea8adb2b8e5d7b2f31583109cce18dae9c6d25f6073cc4c2d70626eb56759cc5cb7cb729793dc81d706e243073eca2e6c562920ef90b0b1aef9650fcc9a5c78b49dfbadc1347770af79b9cddc0f5899e4cd9be1bc103e6a6600952cb80497aad71ef13bc0d8bdbd96e9f8d6ba2563c8ce4f988b9652e164b4d58a7ff5162efbeeb559cc43fdf788b39c66b41310410ff9fa05a724d3caa114fd182332ddc61e62573c2039a0c0813046a9eca61cfa9e5a85f72e98241fd7beb389fc2c04326be87ce8b4e19d894140f3b82ae3f03a9718787918ed36444bb023115bdf71ebe9a6584aceb78e06a07a672caad9f7b719379f73f53a73c3af553ac85673d811a277a6736da8136f1bc0f47859d85440e8ef4e4ce9633ddef3c358b6a83b635b9f20bdb75e76f788db7b6595541c8200972e186479591ab9ed835bdd610ee5140cfa0fd03338ae7641a2bb4a1e53d9fad66176988771bdeb11f727606831cdaa3ea46244df36c6aae3c8fb587de08d438e6f52c890962e3fe68c863b3813b03c050dac852b041a06c1dccb60c1ee793dc3f40f2439ef60a5188633fccb9e8171058d9bcb3149f567b2575b544806af326763c45a818369fdadd99660e19b5ef4a02c664090c5ce266abe9a2e0c068c119b71929b3bd089526079def0052c2aaf7547d9f7d25bd7057a25d4346a08d40e8724fb098528a36caeceb1dfd60e37f5a67558a06e10324a46ff6e1aa539eaacbef8cb0d8fd6c3b0a625746212d558e0db12c5c64b741b46f5329ca783c27705b0d2eae2ba3e50ff0731c568bab1cf9b503cf963386607990086803950dee38efa24296fda8e2da4f1874f03fb0199ed635326964b37397929e1b1156df6adb5a1ed8a88265cd937588c1a863a859ff465f54fc81fd16b10dc195aee617b9e7df1cedb41e28025dc3ac96189f97c1b9f1441d69a54bbd303e5cfda06f03b5d624668dc41fd22d5975eeb4b95e759c661a60dde358d5743cae129a493574dad60cd1a237ead9fd992eedb17a8ae5fb9c4159b2e50bd29b7e99a21edceb6b4a87497573e0400c5012061a9c85cb248c1986c2b86b02cbea6fa09f05a7a90375665ed33958a1e338d7696f8bcebe152edcfb8805e97823a4e3c24b8c2e01b169dedce73b85f4c1e89e7e4debff24eecd7827947117f86f2fac44e7cf8c55edcbe3acafaf14d849cabc3da183317cc20013eeae07c7c4d9f6a6e067defd60382f39380770964473ec065b4264e04a27700c24131d2a60ac63f2177bd725689da5daff078997ea635735b02cdb5195771fdd4dfef68c5465bc3776aa93da428450b06424d08216fafae667632666e79688298cb9d32e95dcc2ca15e3a727265536d576c83b0043caa947a947e1efe784c4edcb37df25627e67c4fa54dadc0b1607fe882288109ec5c9d56e2bc3b3d062a902ffa92aa47bd6d4852824b39f4d86352fe4f2f43a6487c9ed97ac760c96d957af116a0c5438294b7740ae5128c618fe3be7bd88752b71efa55d3f30ab7c594d0c2fc1a3609e2caf8827f9ad7a2d588d10f37b74b00d0a02af52f5c34c48f7e3c86a49273cfd6b8759acb696593998749fb63c7eab27c81c66580afa87724e581de771bdc2d8924d04f988794f4f0d3e070c7a1f3e7a07b95dacdfb8e421e0e0305bff09c18f7728b73148f6c21cef836dc916fed010c0aa2fe720aeed23fe2fe07b1072468d4af6199edb9732f0b02e8ca51d794ec6ac486caba3ac56a08e345d3a6084615853a62cf4ecfaa07277dbe9dc109c90460285273912f3ef4b58ea313da7afc296aad09b24f36b7d47697b4d634804eb4c0a87dab591fc9b894db1cb04ebb430f1364f4cbc0ab22feb3e92e902cde9dbfcc0f804a4499991e8e9eb22ccdc1035249ed0b6cdad244327f594f0cd600660e19ec1e18d26dd000cdba6186897a465d6abf3eff5843235fa0263900c0288e8c14dcac2d53007fd6045390fd34444f4d7902c552cb2dcfe269658ffae6fb0388af9cf8997e25791cbc107d4fc0685af1ac1dd29c5d0ed1e3fde073fdb8e0fe412b955dbce375c029ff9b4be62f60a77cbb4b0ecf39cffb29943c1dfc4839dbb4b3ebec5add0683b1da5d1c29649c517cc133d7e39faf67d82f07445f2f0674b6ca2fb7e30eb5890cf4fec8e9d76fbe22939cdf7d1b513d750295a4e34f2fa63a6a7edb6d7a63d6801691d27cb3d0fa4fc9913c7e55ac3757712c7d199d9b18a478661d6fd599b6bf23a7db86ec93291affa30bab3b5b850147ef82174e5ba94426c4da3e0de67a2bcd80cf8104f5b42ef2453fd0b4a2a3684f6de97db773b40582f5e90ad3fb3db7f29ef90041aa59e022a888633c0847d93afccf4161c8f565a6e28add5b3594ee4a9cd9852849cefc471e9c9e707b561d58940fa57221180ab5eacde21aa6332fc53e0e7d42047141bfae661193ffe051618cb23692efdaa8cb76999e8b8bad1891a97eed928fc638f7f48a9454ccee4474b2a1da844028c8d08a40ae90b259453e6634efa3ad406828a19af4f1af57d87e7bd5ce6d165cb3fead2ac2350d52dfb0be9ab8c7391832861e1a07c1aba90a1f602429a4b92192acbe7a56c095e43229fec571a87c1c818d0cd1348451548a2d951a41d5cb9f51dc07957b65aa1282e8203e5ba66ff83e1e8e66e54d2e5081d9971b384249ddbdfc7a2413726e076bf8dc12a34503cd181a5335df2b581bd4a7169f9820c322aaf6432c358fe43fcfe839a579a3188ed17cbc21c9cfe410ac8adcb80f0b5c5ab88023225e3bc1fc45aaba386442fc58fce5b72aa191e9de6a5183c8;

        #1000;
        $finish;
    end
endmodule
