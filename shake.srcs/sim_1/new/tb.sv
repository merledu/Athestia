module tb_sponge;

// Parameters
parameter msg_len = 276;
parameter d_len = 6501;
parameter capacity = 256;
parameter r = 1600 - capacity;

// Testbench Signals
logic clk;
logic reset;
logic [msg_len-1:0] message;
logic start;
logic [d_len-1:0] z;
logic done;

// Clock generation
always #2 clk = ~clk;

// Instantiate the DUT (Device Under Test)
sponge #(.msg_len(msg_len), .d_len(d_len), .capacity(capacity), .r(r)) dut (
    .clk(clk),
    .reset(reset),
    .message(message),
    .start(start),
    .z(z),
    .done(done)
);

// Test procedure
initial begin
    // Initialize signals
    clk = 0;
    reset = 1; // Assert reset
    message = 276'b0; // Initialize message to zero
    start = 0;
    #5;

    reset = 0; // Deassert reset
    
    clk=0;
    // Start the sponge operation with message = 111110011
    start = 1;
    //message = 4'b1111;
    message = 276'hF0000de50f981723b8110b744ce4763cb5daa32268ccb64ccb6a945e9f98a2b51e1d7;
  //message = 1604'b11111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011101000111010001110100011;
  //message = 512'hFf1db9b7957350dbe9c7a58634120fedcba9876543210f1db9b7957350dbe9c7a58634120fedcba9876543210;
    #1200;
    
//    repeat (1000) @(posedge clk);

    $stop;
end



endmodule